#!/usr/bin/env python
"""
This is a quick script to play with the Collatz Conjecture, namely that the
sequence of naturals generated by n/2 or 3n+1 eventually finishes at 1 no
matter the starting point.
Added in a test for python version, to use input() or raw_input() accordingly.

GRE, 11/09
"""

import sys
import platform


def f(n):
    return 3 * n + 1 if n % 2 else n // 2


def main():
    cycle = n = 0
    try:
        p = platform.python_version()
        if int(p[0]) == 3:
            n = int(input("With what number should I start?\t"))
        elif int(p[0]) == 2:
            n = int(raw_input("What number should I start?\t"))
    except ValueError:
        print("Sorry, I can't use that for my number.")
        sys.exit(1)
    if n <= 1:
        print("Sorry, I can't use that for my number.")
        sys.exit(1)
    while n > 1:
        cycle += 1
        n = f(n)
        print("{0}".format(n))
    print("Cycle length = {0}".format(cycle))


if __name__ == "__main__":
    main()
